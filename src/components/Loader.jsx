import anime from 'animejs';
import { useRef } from 'react';
import { useEffect } from 'react';
import styled from 'styled-components';

const LogoContainer = styled.div`
  position: fixed;
  top: 0;
  left: 0;
  z-index: 1000;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: auto;
  background-color: var(--oxford-blue);
  overflow: hidden;
  transition: all 0.5s ease;

  svg {
    width: 300px;
    height: 100px;
    visibility: hidden;
  }

  &.hidden {
    position: absolute;
    opacity: 0;
  }
`;

export default function Loader() {
  const ref = useRef();
  useEffect(() => {
    anime({
      targets: '#demo-svg path',
      strokeDashoffset: [anime.setDashoffset, 0],
      easing: 'easeInExpo',
      duration: 3000,
      direction: 'alternate',
      begin: () => {
        ref.current.querySelector('#demo-svg').style.visibility = 'visible';
      },
      complete: () => {
        ref.current.classList.add('hidden');
        document.querySelector('body').style.overflow = 'auto';
        setTimeout(() => ref.current.remove(), 500);
      },
    });
  }, []);

  return (
    <LogoContainer ref={ref}>
      <svg id='demo-svg' width='100%' height='100%'>
        <path
          stroke='#64fcda'
          strokeWidth='1'
          fill='none'
          d='M24.77 55.37L19.52 43.54V59.22L7.48 60.27L0.48 56.77V3.57L11.82 2.59L18.82 6.09L24 17.29V2.24L36.18 1.12L43.18 4.62V57.89L31.77 58.87L24.77 55.37ZM24.7 2.87V22.47C24.7 22.9833 24.7233 23.8233 24.77 24.99C24.8167 26.11 24.8633 27.3 24.91 28.56C25.0033 29.7733 25.0733 30.8233 25.12 31.71C25.1667 32.55 25.19 32.97 25.19 32.97L24.98 33.11C24.98 33.11 24.91 32.8533 24.77 32.34C24.6767 31.8267 24.5133 31.22 24.28 30.52C24.0467 29.7733 23.79 29.0967 23.51 28.49L11.4 3.36L1.18 4.2V56L11.82 55.16V36.82C11.82 36.26 11.7967 35.3033 11.75 33.95C11.7033 32.5967 11.6567 31.1733 11.61 29.68C11.61 28.1867 11.5867 26.9267 11.54 25.9C11.4933 24.8267 11.47 24.29 11.47 24.29L11.68 24.22C11.68 24.22 11.7967 24.6867 12.03 25.62C12.31 26.5067 12.6833 27.44 13.15 28.42L25.4 54.67L35.48 53.76V1.89L24.7 2.87ZM78.9697 60.34C78.643 60.3867 78.293 60.41 77.9197 60.41C77.593 60.41 77.2664 60.41 76.9397 60.41C74.513 60.41 72.273 60.06 70.2197 59.36C68.213 58.7067 66.253 57.9367 64.3397 57.05C59.3464 54.5767 55.683 51.1 53.3497 46.62C51.063 42.0933 49.9197 36.7267 49.9197 30.52C49.9197 26.88 50.363 23.3567 51.2497 19.95C52.183 16.4967 53.5597 13.3933 55.3797 10.64C57.1997 7.84 59.463 5.55333 62.1697 3.78C64.923 2.00666 68.143 0.956665 71.8297 0.629999C72.203 0.583331 72.553 0.559996 72.8797 0.559996C73.2064 0.559996 73.533 0.559996 73.8597 0.559996C76.193 0.559996 78.2697 0.86333 80.0897 1.47C81.9097 2.03 83.753 2.68333 85.6197 3.43C88.9797 4.78333 91.7797 6.79 94.0197 9.45C96.2597 12.11 97.9397 15.2367 99.0597 18.83C100.18 22.3767 100.74 26.18 100.74 30.24C100.74 34.02 100.296 37.6367 99.4097 41.09C98.523 44.5433 97.1697 47.67 95.3497 50.47C93.5764 53.2233 91.313 55.4633 88.5597 57.19C85.853 58.9633 82.6564 60.0133 78.9697 60.34ZM71.8997 56.14C75.493 55.86 78.6197 54.88 81.2797 53.2C83.9397 51.4733 86.133 49.2567 87.8597 46.55C89.5864 43.7967 90.8697 40.74 91.7097 37.38C92.5964 33.9733 93.0397 30.4267 93.0397 26.74C93.0397 23.38 92.643 20.1833 91.8497 17.15C91.103 14.07 89.9364 11.34 88.3497 8.96C86.763 6.58 84.7564 4.71333 82.3297 3.36C79.9497 1.96 77.1264 1.26 73.8597 1.26C73.533 1.26 73.2064 1.26 72.8797 1.26C72.5997 1.26 72.273 1.28333 71.8997 1.33C68.3064 1.65666 65.1797 2.68333 62.5197 4.41C59.8597 6.09 57.643 8.30666 55.8697 11.06C54.0964 13.7667 52.7664 16.8 51.8797 20.16C51.0397 23.4733 50.6197 26.9267 50.6197 30.52C50.6197 34.02 51.0164 37.3333 51.8097 40.46C52.603 43.54 53.793 46.27 55.3797 48.65C56.9664 50.9833 58.973 52.8267 61.3997 54.18C63.8264 55.5333 66.6497 56.21 69.8697 56.21C70.243 56.21 70.593 56.21 70.9197 56.21C71.2464 56.21 71.573 56.1867 71.8997 56.14ZM71.8997 45.29C71.713 45.29 71.5264 45.3133 71.3397 45.36C71.1997 45.36 71.0364 45.36 70.8497 45.36C68.0497 45.36 65.833 44.1467 64.1997 41.72C62.613 39.2933 61.8197 35.2333 61.8197 29.54C61.8197 25.48 62.263 22.2133 63.1497 19.74C64.0364 17.2667 65.2497 15.4467 66.7897 14.28C68.3297 13.0667 70.033 12.39 71.8997 12.25C72.0864 12.25 72.273 12.25 72.4597 12.25C72.6464 12.2033 72.833 12.18 73.0197 12.18C75.773 12.18 77.9197 13.37 79.4597 15.75C80.9997 18.0833 81.7697 22.0967 81.7697 27.79C81.7697 33.8567 80.8364 38.2433 78.9697 40.95C77.1497 43.61 74.793 45.0567 71.8997 45.29ZM71.6897 44.59C74.443 44.3567 76.683 42.9567 78.4097 40.39C80.183 37.8233 81.0697 33.6233 81.0697 27.79C81.0697 25.13 80.9064 22.8667 80.5797 21C80.253 19.1333 79.763 17.6167 79.1097 16.45C78.8764 16.4033 78.643 16.38 78.4097 16.38C78.1764 16.3333 77.943 16.31 77.7097 16.31C74.9564 16.31 72.903 17.7567 71.5497 20.65C70.1964 23.4967 69.5197 27.6267 69.5197 33.04C69.5197 35.7467 69.7064 38.0567 70.0797 39.97C70.453 41.8367 70.9897 43.3767 71.6897 44.59ZM131.472 55.3L126.502 46.34V59.08L114.462 60.13L107.462 56.63V3.43L125.032 1.89C125.406 1.84333 125.756 1.82 126.082 1.82C126.456 1.82 126.806 1.82 127.132 1.82C129.839 1.82 132.452 2.24 134.972 3.08C137.492 3.92 139.756 5.15666 141.762 6.79C143.769 8.42333 145.356 10.4067 146.522 12.74C147.689 15.0267 148.272 17.64 148.272 20.58C148.272 28 145.566 33.3433 140.152 36.61L151.982 57.68L138.472 58.8L131.472 55.3ZM132.172 32.83C135.066 31.2433 137.189 29.1433 138.542 26.53C139.896 23.9167 140.572 20.7667 140.572 17.08C140.572 12.74 139.359 9.24 136.932 6.58C134.552 3.87333 131.192 2.52 126.852 2.52C126.572 2.52 126.292 2.52 126.012 2.52C125.732 2.52 125.429 2.54333 125.102 2.59L108.162 4.06V55.93L118.802 55.02V36.54L121.812 36.26L131.822 54.6L143.792 53.55L132.172 32.83ZM118.802 13.23L123.422 12.81H124.192C125.732 12.81 127.016 13.2767 128.042 14.21C129.116 15.0967 129.652 16.66 129.652 18.9C129.652 21.2333 129.092 23.0533 127.972 24.36C126.852 25.62 125.336 26.3433 123.422 26.53L118.802 26.95V13.23ZM126.502 24.78C128.136 23.6133 128.952 21.6533 128.952 18.9C128.952 18.5733 128.929 18.27 128.882 17.99C128.882 17.71 128.859 17.43 128.812 17.15L126.502 17.36V24.78ZM156.066 56.49V3.29L168.036 2.24L175.036 5.74V43.05L184.836 42.21L191.836 45.71V57.54L163.066 59.99L156.066 56.49ZM167.336 44.45V3.01L156.766 3.92V55.79L184.136 53.41V42.98L167.336 44.45ZM204.178 55.86V37.17L190.038 3.78L203.338 2.59L210.338 6.09L213.278 13.79L217.198 2.03L229.868 0.909996L236.868 4.41L223.218 39.69V58.17L211.178 59.29L204.178 55.86ZM228.818 1.75L217.618 2.73L210.618 23.59L202.848 3.36L191.088 4.41L204.878 37.03V55.09L215.518 54.11V36.12L228.818 1.75ZM263.419 19.04C263.279 18.48 263.139 17.9667 262.999 17.5C262.859 17.0333 262.719 16.59 262.579 16.17C261.552 16.45 260.712 16.94 260.059 17.64C259.405 18.34 259.079 19.1333 259.079 20.02C259.079 20.8133 259.172 21.4667 259.359 21.98L261.319 22.54C263.699 23.24 266.102 24.1267 268.529 25.2C270.955 26.2267 273.172 27.4867 275.179 28.98C277.232 30.4267 278.889 32.1533 280.149 34.16C281.409 36.12 282.039 38.36 282.039 40.88C282.039 46.62 280.429 51.17 277.209 54.53C274.035 57.89 269.532 59.8267 263.699 60.34C263.325 60.3867 262.929 60.41 262.509 60.41C262.135 60.4567 261.762 60.48 261.389 60.48C259.615 60.48 257.795 60.2233 255.929 59.71C254.062 59.2433 252.149 58.4967 250.189 57.47C247.902 56.21 245.989 54.9733 244.449 53.76C242.909 52.5 241.649 50.96 240.669 49.14C239.735 47.32 238.942 44.9633 238.289 42.07L249.979 37.59L256.979 41.09C257.259 42.3033 257.585 43.3533 257.959 44.24C260.805 43.82 262.229 42.3967 262.229 39.97C262.229 39.5967 262.182 39.27 262.089 38.99C262.042 38.6633 261.972 38.36 261.879 38.08C261.879 38.08 261.599 37.9167 261.039 37.59C260.479 37.2633 259.965 37.0533 259.499 36.96C254.972 35.84 251.215 34.51 248.229 32.97C245.289 31.43 243.095 29.47 241.649 27.09C240.249 24.71 239.549 21.7 239.549 18.06C239.549 14.98 240.272 12.18 241.719 9.66C243.165 7.09333 245.172 5.01667 247.739 3.43C250.352 1.79666 253.339 0.839998 256.699 0.559996C257.119 0.51333 257.515 0.489997 257.889 0.489997C258.309 0.443331 258.705 0.419998 259.079 0.419998C261.179 0.419998 263.022 0.699997 264.609 1.26C266.242 1.82 268.109 2.59 270.209 3.57C272.355 4.55 274.152 5.64666 275.599 6.86C277.045 8.07333 278.235 9.59 279.169 11.41C280.149 13.1833 280.965 15.47 281.619 18.27L270.419 22.54L263.419 19.04ZM256.349 45.08C254.482 45.08 252.989 44.52 251.869 43.4C250.749 42.28 249.932 40.67 249.419 38.57L239.059 42.49C240.132 47.11 241.905 50.5633 244.379 52.85C246.852 55.09 250.189 56.21 254.389 56.21C254.762 56.21 255.135 56.21 255.509 56.21C255.882 56.21 256.255 56.1867 256.629 56.14C262.229 55.6733 266.569 53.8067 269.649 50.54C272.775 47.2733 274.339 42.8867 274.339 37.38C274.339 33.46 273.242 30.4267 271.049 28.28C268.855 26.1333 265.542 24.4533 261.109 23.24L255.509 21.7C253.829 21.2333 252.709 20.5567 252.149 19.67C251.635 18.7833 251.379 17.7333 251.379 16.52C251.379 15.3067 251.845 14.2567 252.779 13.37C253.712 12.4833 254.949 11.97 256.489 11.83C256.675 11.83 256.839 11.83 256.979 11.83C257.165 11.7833 257.352 11.76 257.539 11.76C259.265 11.76 260.619 12.25 261.599 13.23C262.625 14.1633 263.395 15.7967 263.909 18.13L273.779 14.35C272.799 9.91666 271.119 6.62666 268.739 4.48C266.405 2.28666 263.185 1.19 259.079 1.19C258.705 1.19 258.309 1.19 257.889 1.19C257.515 1.19 257.142 1.21333 256.769 1.26C253.502 1.54 250.632 2.45 248.159 3.99C245.685 5.53 243.749 7.51333 242.349 9.94C240.949 12.3667 240.249 15.0733 240.249 18.06C240.249 22.1667 241.159 25.4333 242.979 27.86C244.845 30.2867 248.135 32.1067 252.849 33.32L257.189 34.44C258.962 34.9067 260.362 35.5133 261.389 36.26C262.415 37.0067 262.929 38.2433 262.929 39.97C262.929 43.0033 260.992 44.7067 257.119 45.08H256.349Z'></path>
      </svg>
    </LogoContainer>
  );
}
